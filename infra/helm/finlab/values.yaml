namespace:
  create: false

registry: k3d-finlab-registry:5000

backend:
  image: finlab/backend
  tag: "0.1.0"
  replicas: 2
  port: 3000
  env:
    PORT: "3000"
    DB_MODE: "postgres"
    DATABASE_URL: ""   # optional override (if set, DB_* vars are ignored)
    DB_HOST: "postgres"
    DB_PORT: "5432"
    DB_USER: "finlab"
    DB_PASSWORD: "finlab"
    DB_NAME: "finlab"
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi

frontend:
  image: finlab/frontend
  tag: "0.1.0"
  replicas: 2
  port: 80
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

postgres:
  enabled: true
  image: postgres:16-alpine
  user: finlab
  password: finlab
  db: finlab
  port: 5432
  storage: 1Gi

hpa:
  enabled: true
  minReplicas: 2
  maxReplicas: 6
  cpuUtilization: 70
